# CanticleJS

 1.	What is CanticleJS?
 2. How to use it?
 3.	Background

## 1  What is CanticleJS?

CanticleJS is the latest incarnation of a program to experiment with the phenomenon named Cellular Automatons. Basically all you can do with it is generate interesting images.
You can read all about [Cellular Automatons here](https://en.wikipedia.org/wiki/Cellular_automaton). The kind of Cellular Automatons generated by Canticle would be categorized under [Elementary Cellular Automatons](https://en.wikipedia.org/wiki/Cellular_automaton#Elementary_cellular_automata)

CanticleJS generates images starting with a line, generating the next line from that and so on, working downwards. It calculates a numeric value for each pixel using as inputs the values of the pixels straight above it and to the left and right of that same pixel. By assigning each value a color the images are generated.

The first line in the image is generated by setting one or more pixels to the maximum value, the rest are set to zero. Which pixels are set to maximum value is determined by the settings.
CanticleJS uses simple algorithms to calculate each next line.

Every possible value of a pixel is represented by one color of the palette, the number of colors and thus the number of possible values can also be set. The influence of this number on the resulting image is profound. Some combinations of algorithm and number of colors produce hardly any output, while other combinations generate fantastic images.

Although the patterns evolving on the screen originate from a finite number of initial circumstances, they quickly reach a stage where their development seems quite unpredictable, without becoming completely chaotic. This is what fascinates me most about this phenomenon. This unpredictability is deceptive however, it's easy to demonstrate that two runs with equal initial parameters produce identical results.

## 2   How to use it?

## 3   Background

This program originated somewhere around 1986 as an MS Basic program on an Amiga 500. I was a budding programmer at the time, looking for programming ideas. I remembered an interesting looking picture in some 70's book about 'Supercomputers', with a short explanation of how the image was generated (most likely on some of the fastest hardware of the period). I couldn't find the book anymore at the time, but I decided to have a go at reproducing the kind of image as I remembered it. The resulting program worked with 32 colors only, and took about 20 minutes to generate an image of 320 x 256 pixels. Though it produced interesting looking output, it took such a long time to produce images that I eventually lost interest. I didn't even keep the source of the program when I sold the Amiga, to my later regret.

Quite a few years later I read the book "Artificial life", by Stephen Levy. This book was enlightening to me for several reasons, but it also contained a description of Cellular Automatons, and this rekindled my interest in the concept. I just aquired a copy of Think C, a programming language for the Macintosh, so I figured I'd try and see if I could get a version working in C.
Eventually I did manage to generate the same kind of output as with my Amiga program, but I never got to the point that I could produce a properly working stable program, I decided I wasn't enough of a programmer to work in C, and the project was shelved for the second time.

Then a new programming environment called REALBasic came around (this must have been around 1996). This enebled me to produce something stable with a proper user interface. Even better: the REALBasic version seemed to be faster than the C version. During this time I coined the name Canticle as a wordplay on the initials CA for Cellular Automaton. I even added lots of features, such as a gradient editor and save to file and scrollback functionality.

Then a program called Macromedia Director, which I used as an animation tool and which had a built-in programming language called Lingo added a feature called Imaging Lingo (think canvas avant la date). I ported the core code from my REALBasic program in about half an hour to a functioning Lingo behavior. Though this was nowhere near as fast the REALBasic version, something the Lingo interpreter was largely responsible for, the advantage was that you could combine Imaging Lingo with various other cool Director features for interesting visual effects, such as sprite rotation, score inks and quads.

Programming languages and development platforms come and go, I stopped using REALBasic many years ago. When I recently tried opening the source of my REALBAsic program in REALBasic's successor "Xojo" it didn't work at all, so much for backwards compatibility. At some point Macromedia Director also became obsolete, and I found myself without any environment to run Canticle. Thus the concept of Cellular Automatons once again faded from my attention. 

Fast forward to 2024. Meanwhile I have been working as a web developer for many years, so when I became once again interested in this concept, the obvious thing to do was creating a javascript (or typescript) version. Fortunately I could recover the core code from my Director version and port the lingo code to typescript easily. That is how CanticleJS came about.

By now, hardware, browsers and canvas operations are much faster than anything I used before, eliminating the need to optimize for speed. In fact each line of the generated image is now drawn during a requestAnimationFrame call. That's fast enough for my purposes even though much slower than a speed optimized version would be.

Mark Hagers